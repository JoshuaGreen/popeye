begin

prot 4_51_to_4_53.reg

remark In bicolores, 4.47 didn't detect some battery mates where the rear
remark piece is of the same colour as the king to be mated
author bernd ellinghoven & Hans Peter Rehm
origin Andernach 2009 (example problem)
pieces white kd3 se6
       black ke7 rg8 bh8 sg5 pb7f5
stipulation h#2
condition bicolores

next

remark the functions checking for check in extinction chess changed
remark the variables internally used for holding the royal squares, which
remark caused all kinds of trouble, including this shortie not being solved.
pieces white ke1 qd1 ra1h1 bc1f1 sb1g1 pa2b2c2d2e2f4g2h2
       black ke8 qd8 ra8h8 bc8f8 sb8g8 pa7b7c7d7e5f7g7h7
stipulation dia 1
condition extinction

next

remark Test: avoid dupliate king moves (e.g. to f5)
pieces white ke5
       black qh2
condition WhiteReflectiveKing
stip ~1
option nobk movenum

next

fors rsbqkbsr/pppppppp/8/8/8/8/PPPPPPPP/RSBQKBSR
stip dia1.0
cond hyperv
opt noboard movenum start 20

next

fors rsbqkbsr/pppppppp/8/8/8/8/PPPPPPPP/RSBQKBSR
stip dia1.0
cond hypervolage
opt movenum start 20

next

pieces white kd6 qc1 ph7
       black kd8 qg8
stipulation #1
condition circedoubleagent singlebox
twin remove c1

end
